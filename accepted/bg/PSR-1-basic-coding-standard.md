Стандарт при кодиране
=====================

Този раздел на стандарта съдържа това, което трябва да се смята като стандартни
елементи на кодиране, необходими за осигуряване на високо ниво на техническа
интерпортабилност между споделянето на PHP код. 

Ключовите думи „ТРЯБВА“, „НЕ ТРЯБВА“, „ЗАДЪЛЖИТЕЛЕН“, “СЛЕДВА“, „НЕ СЛЕДВА“,
„БИ ТРЯБВАЛО“, “НЕ БИ ТРЯБВАЛО“, „ПРЕПОРЪЧИТЕЛЕН“, „МОЖЕ“ и „НЕЗАДЪЛЖИТЕЛЕН“ в
този документ се интерпретират като описаните в [RFC 2119]

[RFC 2119]: http://www.ietf.org/rfc/rfc2119.txt
[PSR-0]: https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-0.md
[PSR-4]: https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-4-autoloader.md


1. Общ преглед
--------------

- Файловете ТРЯБВА да използват само тагове `<?php` и `<?=`.

- Файловете ТРЯБВА да използват само UTF-8 без BOM за PHP код.

- Файловете БИ ТРЯБВАЛО да декларират или символи (класове, функции, константи и т.н.),
  или да предизвикват странични ефекти (т.е. генериране на резултат, промяна на .ini настройки и т.н.)
  но НЕ БИ ТРЯБВАЛО да правят и двете.

- Именните пространства и класове ТРЯБВА да следват PSR за "автоматично зареждане": [[PSR-0], [PSR-4]].

- Имената на класовете ТРЯБВА да се декларират в стил `StudlyCaps`.

- Константите в класовете ТРЯБВА да се декларират в горен регистър на буквите,
  с подчертаващо тире за разделител.

- Имената на методите ТРЯБВА да се декларират в стил `camelCase`.


2. Файлове
--------

### 2.1. PHP тагове

Кодът на PHP ТРЯБВА да използва дългите тагове `<?php ?>` или кратките ехо-тагове
`<?= ?>`; НЕ ТРЯБВА да се използват варианти на други тагове.

### 2.2. Кодиране на знаци

Кодът на PHP ТРЯБВА да използва само UTF-8 без BOM.

### 2.3. Странични ефекти

Файлът БИ ТРЯБВАЛО да декларира нови символи (класове, функции, константи и т.н.)
без да създава други странични ефекти, или БИ ТРЯБВАЛО да изпълнява логика със
странични ефекти, но НЕ БИ ТРЯБВАЛО и двете едновременно.

Фразата „странични ефекти“ означава изпълнението на логика, не пряко свързана с
декларирането на класове, функции, константи и т.н., *само включването на файл*.

Към „страничните ефекти“ влизат, но не са ограничени до: генериране на резултат,
явно използване на `require` или `include`, връзка към външни услуги, промяна на
ini настройки, поява на грешки или изключения, промяна на глобални или статични
променливи, прочитане от или записване във файл, и т.н.

Следва пример на файл с декларации и странични ефекти; т.е. пример какво да се
избягва:

```php
<?php
// страничен ефект: промяна на ini настройки
ini_set('error_reporting', E_ALL);

// страничен ефект: зареждане на файл
include "file.php";

// страничен ефект: генериране на резултат
echo "<html>\n";

// декларация
function foo()
{
    // тяло на функция
}
```

Следва пример на файл, съдържащ декларации без странични ефекти, т.е. пример за
подражание:

```php
<?php
// декларация
function foo()
{
    // тяло на функция
}

// условната декларация *не е* страничен ефект
if (! function_exists('bar')) {
    function bar()
    {
        // тяло на функция
    }
}
```


3. Именно пространство и имена на класове
-----------------------------------------

Именните пространства ТРЯБВА да следват PSR за "автоматично зареждане": [[PSR-0], [PSR-4]].

Това означава, че всеки клас е файл сам по себе си, и е в именното пространство
в поне едно ниво: най-горното ниво на доставчика.

Класовете ТРЯБВА да се декларират в стил `StudlyCaps`.

Код, писан за PHP 5.3 и следващи версии, ТРЯБВА да използва формални
именни пространства.

Например:

```php
<?php
// PHP 5.3 и следващи;
namespace Vendor\Model;

class Foo
{
}
```

Код, писан за 5.2.x и преди това БИ ТРЯБВАЛО да използват псевдо-именно пространство
с представа `Доставчик_`.

```php
<?php
// PHP 5.2.x и по-ранни:
class Vendor_Model_Foo
{
}
```

4. Константни, свойства и методи в класове
------------------------------------------

Терминът "клас" се отнася до всички класове, интерфейси и traits.

### 4.1. Константи

Константите ТРЯБВА да се декларират в горен регистър с подчертаващо тире за разделител.
Например:

```php
<?php
namespace Vendor\Model;

class Foo
{
    const VERSION = '1.0';
    const DATE_APPROVED = '2012-06-01';
}
```

### 4.2. Свойства

Това ръководство преднамерено избягва всякакви препоръки що се отнася до 
използването на `$StudlyCaps`, `$camelCase` или `$under_score` за имена на свойства.

Каквато и конвенция за именуване да бъде използвана, БИ ТРЯБВАЛО да е
последователна в даден обхват. Този обхват може да е на ниво доставчик, пакет, 
клас, или метод.

### 4.3. Методи

Методите ТРЯБВА да се декларират в стил `camelCase()`.
