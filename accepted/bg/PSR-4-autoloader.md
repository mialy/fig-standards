# Автоматично зареждане

Ключовите думи „ТРЯБВА“, „НЕ ТРЯБВА“, „ЗАДЪЛЖИТЕЛЕН“, “СЛЕДВА“, „НЕ СЛЕДВА“,
„БИ ТРЯБВАЛО“, “НЕ БИ ТРЯБВАЛО“, „ПРЕПОРЪЧИТЕЛЕН“, „МОЖЕ“ и „НЕЗАДЪЛЖИТЕЛЕН“ в
този документ се интерпретират като описаните в [RFC 2119](http://tools.ietf.org/html/rfc2119).


## 1. Общ преглед

Това PSR описва спецификацията за [автоматично зареждане][] на класове от файлови
пътища. То е напълно съвместима, и може да се използва в допълнение с всяка друга
спецификация за автоматично зареждане, включително [PSR-0][]. Това PSR също описва
къде да бъдат поставяни файловете, които ще се зареждат автоматично според спецификацията.


## 2. Спецификация

1. Терминът „клас“ се отнася за всички класове, интерфейси, trait-ове и други
   подобни структури.

2. Пълното име на класа има следният формат:

        \<ИменноПространство>(\<ПодИменноПространство>)*\<ИмеНаКлас>

    1. Пълното име на класа ТРЯБВА да има именно пространство в най-горно ниво,
       известно още като „именно пространство на доставчик“.

    2. Пълното име на класа МОЖЕ да съдържа едно или повече под-именни пространства.

    3. Пълното име на класа ТРЯБВА да завършва с името на класа.

    4. Подчертаващите тирета нямат специфично значение в никоя част от пълното
       име на класа.

    5. Буквените знаци в пълното име на класа МОЖЕ да са всяка комбинация
       от долен и горен регистър.

    6. Всички имена на класове ТРЯБВА да се отнасят с чувствителност към регистъра.

3. Когато се зарежда от файл, съответстващ на пълно име на класа ...

    1. Серията от едно или повече водещи именни пространства и под-именни пространства,
       без да включва водещият разделител на именно пространство, в пълното име на класа (като
       „представка на именното пространство“) съответства поне към една „основна директория“.

    2. Серията от под-именни пространства след „представка на именно пространство“
       съответства на поддиректория в „основната директория“, където разделителите на
       именните пространства представляват директорийни разделители. Името на поддиректорията
       ТРЯБВА да съвпада с регистъра на под-именните пространства.

    3. Името на завършващия клас се отнася до файлово име, завършващо с `.php`.
       Файловото име ТРЯБВА да съвпада с регистъра на името на завършващия клас.

4. Реализациите на автоматично зареждане НЕ ТРЯБВА да хвърлят изключения и
   НЕ ТРЯБВА да повдигат грешки от никое ниво, и НЕ БИ ТРЯБВАЛО да връщат стойност.


## 3. Примери

Таблицата по-долу показва съответстващия файлов път за подаденото пълно име на клас,
представка на именно пространство и базова директория.

| Пълно име на класа            | Представка на именното пространство | Основна директория       | Получен файлов път
| ----------------------------- |-------------------------------------|--------------------------|-------------------------------------------
| \Acme\Log\Writer\File_Writer  | Acme\Log\Writer                     | ./acme-log-writer/lib/   | ./acme-log-writer/lib/File_Writer.php
| \Aura\Web\Response\Status     | Aura\Web                            | /path/to/aura-web/src/   | /path/to/aura-web/src/Response/Status.php
| \Symfony\Core\Request         | Symfony\Core                        | ./vendor/Symfony/Core/   | ./vendor/Symfony/Core/Request.php
| \Zend\Acl                     | Zend                                | /usr/includes/Zend/      | /usr/includes/Zend/Acl.php

Примерни реализации за автоматично зареждане, съответстващи на спецификацията,
моля, вижте [примерния файл][]. Примерните реализации НЕ ТРЯБВА да се считат за
част от спецификацията и МОЖЕ да се променят по всяко време.

[autoloading]: http://php.net/autoload
[PSR-0]: https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-0.md
[примерния файл]: https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-4-autoloader-examples.md
